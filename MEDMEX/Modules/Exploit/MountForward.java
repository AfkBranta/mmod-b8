/*
 * Decompiled with CFR 0.152.
 */
package MEDMEX.Modules.Exploit;

import MEDMEX.Client;
import MEDMEX.Events.Event;
import MEDMEX.Events.events.EventTick;
import MEDMEX.Modules.Category;
import MEDMEX.Modules.Module;
import java.util.List;
import net.minecraft.src.Entity;
import net.minecraft.src.EntityMinecart;
import net.minecraft.src.MathHelper;
import net.minecraft.src.Packet7;

public class MountForward
extends Module {
    public MountForward() {
        super("MountForward", "Automatically mount forward", 0, Category.Exploit);
    }

    @Override
    public void onDisable() {
    }

    @Override
    public void onEvent(Event e) {
        if (e instanceof EventTick) {
            if (this.mc.thePlayer.ticksExisted % 5 != 0) {
                return;
            }
            int f = MathHelper.floor_double((double)(this.mc.thePlayer.rotationYaw * 4.0f / 360.0f) + 0.5) & 3;
            List entities = this.mc.theWorld.getLoadedEntityList();
            for (Entity ent : entities) {
                if (!(ent instanceof EntityMinecart)) continue;
                EntityMinecart cart = (EntityMinecart)ent;
                if (cart.minecartType == 1) continue;
                if (f == 0 && ent.posZ > this.mc.thePlayer.posZ) {
                    Client.sendPacket(new Packet7(this.mc.thePlayer.entityId, ent.entityId, 0));
                }
                if (f == 1 && ent.posX < this.mc.thePlayer.posX) {
                    Client.sendPacket(new Packet7(this.mc.thePlayer.entityId, ent.entityId, 0));
                }
                if (f == 2 && ent.posZ < this.mc.thePlayer.posZ) {
                    Client.sendPacket(new Packet7(this.mc.thePlayer.entityId, ent.entityId, 0));
                }
                if (f != 3 || !(ent.posX > this.mc.thePlayer.posX)) continue;
                Client.sendPacket(new Packet7(this.mc.thePlayer.entityId, ent.entityId, 0));
            }
        }
    }

    @Override
    public void onEnable() {
    }
}

